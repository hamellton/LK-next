{"version":3,"file":"index.production.js","sources":["../../../autocomplete-shared/dist/esm/version.js","../../../autocomplete-shared/dist/esm/userAgents.js","../../../autocomplete-preset-algolia/dist/esm/requester/createRequester.js","../../../autocomplete-preset-algolia/dist/esm/search/fetchAlgoliaResults.js","../../../autocomplete-js/dist/esm/userAgents.js","../../../autocomplete-js/dist/esm/requesters/createAlgoliaRequester.js","../../../autocomplete-preset-algolia/dist/esm/utils/getAppIdAndApiKey.js","../../../autocomplete-preset-algolia/dist/esm/constants/index.js","../../../autocomplete-js/dist/esm/requesters/getAlgoliaResults.js","../../src/getTemplates.tsx","../../src/createQuerySuggestionsPlugin.ts","../../../autocomplete-shared/dist/esm/getAttributeValueByPath.js"],"sourcesContent":["export var version = '1.9.2';","import { version } from './version';\nexport var userAgents = [{\n  segment: 'autocomplete-core',\n  version: version\n}];","function _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\nfunction _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _toPropertyKey(arg) { var key = _toPrimitive(arg, \"string\"); return _typeof(key) === \"symbol\" ? key : String(key); }\nfunction _toPrimitive(input, hint) { if (_typeof(input) !== \"object\" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || \"default\"); if (_typeof(res) !== \"object\") return res; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (hint === \"string\" ? String : Number)(input); }\nexport function createRequester(fetcher, requesterId) {\n  function execute(fetcherParams) {\n    return fetcher({\n      searchClient: fetcherParams.searchClient,\n      queries: fetcherParams.requests.map(function (x) {\n        return x.query;\n      })\n    }).then(function (responses) {\n      return responses.map(function (response, index) {\n        var _fetcherParams$reques = fetcherParams.requests[index],\n          sourceId = _fetcherParams$reques.sourceId,\n          transformResponse = _fetcherParams$reques.transformResponse;\n        return {\n          items: response,\n          sourceId: sourceId,\n          transformResponse: transformResponse\n        };\n      });\n    });\n  }\n  return function createSpecifiedRequester(requesterParams) {\n    return function requester(requestParams) {\n      return _objectSpread(_objectSpread({\n        requesterId: requesterId,\n        execute: execute\n      }, requesterParams), requestParams);\n    };\n  };\n}","function _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\nvar _excluded = [\"params\"];\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\nfunction _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _toPropertyKey(arg) { var key = _toPrimitive(arg, \"string\"); return _typeof(key) === \"symbol\" ? key : String(key); }\nfunction _toPrimitive(input, hint) { if (_typeof(input) !== \"object\" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || \"default\"); if (_typeof(res) !== \"object\") return res; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (hint === \"string\" ? String : Number)(input); }\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\nfunction _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread(); }\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\nfunction _iterableToArray(iter) { if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter); }\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) return _arrayLikeToArray(arr); }\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i]; return arr2; }\nimport { userAgents as coreUserAgents } from '@algolia/autocomplete-shared';\nimport { HIGHLIGHT_PRE_TAG, HIGHLIGHT_POST_TAG } from '../constants';\nimport { getAppIdAndApiKey } from '../utils';\nexport function fetchAlgoliaResults(_ref) {\n  var searchClient = _ref.searchClient,\n    queries = _ref.queries,\n    _ref$userAgents = _ref.userAgents,\n    userAgents = _ref$userAgents === void 0 ? [] : _ref$userAgents;\n  if (typeof searchClient.addAlgoliaAgent === 'function') {\n    var algoliaAgents = [].concat(_toConsumableArray(coreUserAgents), _toConsumableArray(userAgents));\n    algoliaAgents.forEach(function (_ref2) {\n      var segment = _ref2.segment,\n        version = _ref2.version;\n      searchClient.addAlgoliaAgent(segment, version);\n    });\n  }\n  var _getAppIdAndApiKey = getAppIdAndApiKey(searchClient),\n    appId = _getAppIdAndApiKey.appId,\n    apiKey = _getAppIdAndApiKey.apiKey;\n  return searchClient.search(queries.map(function (searchParameters) {\n    var params = searchParameters.params,\n      headers = _objectWithoutProperties(searchParameters, _excluded);\n    return _objectSpread(_objectSpread({}, headers), {}, {\n      params: _objectSpread({\n        hitsPerPage: 5,\n        highlightPreTag: HIGHLIGHT_PRE_TAG,\n        highlightPostTag: HIGHLIGHT_POST_TAG\n      }, params)\n    });\n  })).then(function (response) {\n    return response.results.map(function (result) {\n      var _result$hits;\n      return _objectSpread(_objectSpread({}, result), {}, {\n        hits: (_result$hits = result.hits) === null || _result$hits === void 0 ? void 0 : _result$hits.map(function (hit) {\n          return _objectSpread(_objectSpread({}, hit), {}, {\n            __autocomplete_algoliaCredentials: {\n              appId: appId,\n              apiKey: apiKey\n            }\n          });\n        })\n      });\n    });\n  });\n}","import { version } from '@algolia/autocomplete-shared';\nexport var userAgents = [{\n  segment: 'autocomplete-js',\n  version: version\n}];","function _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\nfunction _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _toPropertyKey(arg) { var key = _toPrimitive(arg, \"string\"); return _typeof(key) === \"symbol\" ? key : String(key); }\nfunction _toPrimitive(input, hint) { if (_typeof(input) !== \"object\" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || \"default\"); if (_typeof(res) !== \"object\") return res; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (hint === \"string\" ? String : Number)(input); }\nimport { createRequester, fetchAlgoliaResults } from '@algolia/autocomplete-preset-algolia';\nimport { userAgents } from '../userAgents';\nexport var createAlgoliaRequester = createRequester(function (params) {\n  return fetchAlgoliaResults(_objectSpread(_objectSpread({}, params), {}, {\n    userAgents: userAgents\n  }));\n}, 'algolia');","export function getAppIdAndApiKey(searchClient) {\n  var _searchClient$transpo = searchClient.transporter,\n    headers = _searchClient$transpo.headers,\n    queryParameters = _searchClient$transpo.queryParameters;\n  var APP_ID = 'x-algolia-application-id';\n  var API_KEY = 'x-algolia-api-key';\n  var appId = headers[APP_ID] || queryParameters[APP_ID];\n  var apiKey = headers[API_KEY] || queryParameters[API_KEY];\n  return {\n    appId: appId,\n    apiKey: apiKey\n  };\n}","export var HIGHLIGHT_PRE_TAG = '__aa-highlight__';\nexport var HIGHLIGHT_POST_TAG = '__/aa-highlight__';","import { createAlgoliaRequester } from './createAlgoliaRequester';\n\n/**\n * Retrieves Algolia results from multiple indices.\n */\nexport var getAlgoliaResults = createAlgoliaRequester({\n  transformResponse: function transformResponse(response) {\n    return response.hits;\n  }\n});","/** @jsxRuntime classic */\n/** @jsx createElement */\nimport { SourceTemplates } from '@algolia/autocomplete-js';\n\nimport { QuerySuggestionsHit } from './types';\n\nexport type GetTemplatesParams<TItem extends QuerySuggestionsHit> = {\n  onTapAhead(item: TItem): void;\n};\n\nexport function getTemplates<TItem extends QuerySuggestionsHit>({\n  onTapAhead,\n}: GetTemplatesParams<TItem>): SourceTemplates<TItem> {\n  return {\n    item({ item, createElement, components }) {\n      if (item.__autocomplete_qsCategory) {\n        return (\n          <div className=\"aa-ItemWrapper\">\n            <div className=\"aa-ItemContent aa-ItemContent--indented\">\n              <div className=\"aa-ItemContentSubtitle aa-ItemContentSubtitle--standalone\">\n                <span className=\"aa-ItemContentSubtitleIcon\" />\n                <span>\n                  in{' '}\n                  <span className=\"aa-ItemContentSubtitleCategory\">\n                    {item.__autocomplete_qsCategory}\n                  </span>\n                </span>\n              </div>\n            </div>\n          </div>\n        );\n      }\n\n      return (\n        <div className=\"aa-ItemWrapper\">\n          <div className=\"aa-ItemContent\">\n            <div className=\"aa-ItemIcon aa-ItemIcon--noBorder\">\n              <svg viewBox=\"0 0 24 24\" fill=\"currentColor\">\n                <path d=\"M16.041 15.856c-0.034 0.026-0.067 0.055-0.099 0.087s-0.060 0.064-0.087 0.099c-1.258 1.213-2.969 1.958-4.855 1.958-1.933 0-3.682-0.782-4.95-2.050s-2.050-3.017-2.050-4.95 0.782-3.682 2.050-4.95 3.017-2.050 4.95-2.050 3.682 0.782 4.95 2.050 2.050 3.017 2.050 4.95c0 1.886-0.745 3.597-1.959 4.856zM21.707 20.293l-3.675-3.675c1.231-1.54 1.968-3.493 1.968-5.618 0-2.485-1.008-4.736-2.636-6.364s-3.879-2.636-6.364-2.636-4.736 1.008-6.364 2.636-2.636 3.879-2.636 6.364 1.008 4.736 2.636 6.364 3.879 2.636 6.364 2.636c2.125 0 4.078-0.737 5.618-1.968l3.675 3.675c0.391 0.391 1.024 0.391 1.414 0s0.391-1.024 0-1.414z\" />\n              </svg>\n            </div>\n            <div className=\"aa-ItemContentBody\">\n              <div className=\"aa-ItemContentTitle\">\n                <components.ReverseHighlight hit={item} attribute=\"query\" />\n              </div>\n            </div>\n          </div>\n          <div className=\"aa-ItemActions\">\n            <button\n              className=\"aa-ItemActionButton\"\n              title={`Fill query with \"${item.query}\"`}\n              onClick={(event) => {\n                event.preventDefault();\n                event.stopPropagation();\n                onTapAhead(item);\n              }}\n            >\n              <svg viewBox=\"0 0 24 24\" fill=\"currentColor\">\n                <path d=\"M8 17v-7.586l8.293 8.293c0.391 0.391 1.024 0.391 1.414 0s0.391-1.024 0-1.414l-8.293-8.293h7.586c0.552 0 1-0.448 1-1s-0.448-1-1-1h-10c-0.552 0-1 0.448-1 1v10c0 0.552 0.448 1 1 1s1-0.448 1-1z\" />\n              </svg>\n            </button>\n          </div>\n        </div>\n      );\n    },\n  };\n}\n","import {\n  AutocompleteState,\n  AutocompleteSource,\n  AutocompletePlugin,\n  getAlgoliaResults,\n} from '@algolia/autocomplete-js';\nimport { getAttributeValueByPath } from '@algolia/autocomplete-shared';\nimport { SearchOptions } from '@algolia/client-search';\nimport { SearchClient } from 'algoliasearch/lite';\n\nimport { getTemplates } from './getTemplates';\nimport { AutocompleteQuerySuggestionsHit, QuerySuggestionsHit } from './types';\n\nexport type CreateQuerySuggestionsPluginParams<\n  TItem extends QuerySuggestionsHit\n> = {\n  /**\n   * The initialized Algolia search client.\n   *\n   * @link https://www.algolia.com/doc/ui-libraries/autocomplete/api-reference/autocomplete-plugin-query-suggestions/createQuerySuggestionsPlugin/#param-searchclient\n   */\n  searchClient: SearchClient;\n  /**\n   * The index name.\n   *\n   * @link https://www.algolia.com/doc/ui-libraries/autocomplete/api-reference/autocomplete-plugin-query-suggestions/createQuerySuggestionsPlugin/#param-indexname\n   */\n  indexName: string;\n  /**\n   * A function returning [Algolia search parameters](https://www.algolia.com/doc/api-reference/search-api-parameters/).\n   *\n   * @link https://www.algolia.com/doc/ui-libraries/autocomplete/api-reference/autocomplete-plugin-query-suggestions/createQuerySuggestionsPlugin/#param-getsearchparams\n   */\n  getSearchParams?(params: { state: AutocompleteState<TItem> }): SearchOptions;\n  /**\n   * A function to transform the provided source.\n   *\n   * @link https://www.algolia.com/doc/ui-libraries/autocomplete/api-reference/autocomplete-plugin-query-suggestions/createQuerySuggestionsPlugin/#param-transformsource\n   */\n  transformSource?(params: {\n    source: AutocompleteSource<TItem>;\n    state: AutocompleteState<TItem>;\n    onTapAhead(item: TItem): void;\n  }): AutocompleteSource<TItem>;\n  /**\n   * The attribute or attribute path to display categories for.\n   *\n   * @example [\"instant_search\", \"facets\", \"exact_matches\", \"categories\"]\n   * @example [\"instant_search\", \"facets\", \"exact_matches\", \"hierarchicalCategories.lvl0\"]\n   * @link https://www.algolia.com/doc/ui-libraries/autocomplete/api-reference/autocomplete-plugin-query-suggestions/createQuerySuggestionsPlugin/#param-categoryattribute\n   */\n  categoryAttribute?: string | string[];\n  /**\n   * How many items to display categories for.\n   *\n   * @default 1\n   * @link https://www.algolia.com/doc/ui-libraries/autocomplete/api-reference/autocomplete-plugin-query-suggestions/createQuerySuggestionsPlugin/#param-itemswithcategories\n   */\n  itemsWithCategories?: number;\n  /**\n   * The number of categories to display per item.\n   *\n   * @default 1\n   * @link https://www.algolia.com/doc/ui-libraries/autocomplete/api-reference/autocomplete-plugin-query-suggestions/createQuerySuggestionsPlugin/#param-categoriesperitem\n   */\n  categoriesPerItem?: number;\n};\n\nexport function createQuerySuggestionsPlugin<\n  TItem extends AutocompleteQuerySuggestionsHit\n>(\n  options: CreateQuerySuggestionsPluginParams<TItem>\n): AutocompletePlugin<TItem, undefined> {\n  const {\n    searchClient,\n    indexName,\n    getSearchParams,\n    transformSource,\n    categoryAttribute,\n    itemsWithCategories,\n    categoriesPerItem,\n  } = getOptions(options);\n\n  return {\n    name: 'aa.querySuggestionsPlugin',\n    getSources({ query, setQuery, refresh, state }) {\n      function onTapAhead(item: TItem) {\n        setQuery(`${item.query} `);\n        refresh();\n      }\n\n      return [\n        transformSource({\n          source: {\n            sourceId: 'querySuggestionsPlugin',\n            getItemInputValue({ item }) {\n              return item.query;\n            },\n            getItems() {\n              return getAlgoliaResults({\n                searchClient,\n                queries: [\n                  {\n                    indexName,\n                    query,\n                    params: getSearchParams({\n                      state: state as AutocompleteState<TItem>,\n                    }),\n                  },\n                ],\n                transformResponse({ hits }) {\n                  const querySuggestionsHits: Array<\n                    AutocompleteQuerySuggestionsHit<typeof indexName>\n                  > = hits[0];\n\n                  if (!query || !categoryAttribute) {\n                    return querySuggestionsHits as any;\n                  }\n\n                  let itemsWithCategoriesAdded = 0;\n                  return querySuggestionsHits.reduce<\n                    Array<AutocompleteQuerySuggestionsHit<typeof indexName>>\n                  >((acc, current) => {\n                    const items: Array<\n                      AutocompleteQuerySuggestionsHit<typeof indexName>\n                    > = [current];\n\n                    if (itemsWithCategoriesAdded < itemsWithCategories) {\n                      const categories = (\n                        getAttributeValueByPath(\n                          current,\n                          Array.isArray(categoryAttribute)\n                            ? categoryAttribute\n                            : [categoryAttribute]\n                        ) || []\n                      )\n                        .map((x) => x.value)\n                        .slice(0, categoriesPerItem);\n\n                      if (categories.length > 0) {\n                        itemsWithCategoriesAdded++;\n                      }\n\n                      for (const category of categories) {\n                        items.push({\n                          __autocomplete_qsCategory: category,\n                          ...current,\n                        } as any);\n                      }\n                    }\n\n                    acc.push(...items);\n\n                    return acc;\n                  }, []);\n                },\n              });\n            },\n            templates: getTemplates({ onTapAhead }),\n          },\n          onTapAhead,\n          state: state as AutocompleteState<TItem>,\n        }),\n      ];\n    },\n    __autocomplete_pluginOptions: options,\n  };\n}\n\nfunction getOptions<TItem extends AutocompleteQuerySuggestionsHit>(\n  options: CreateQuerySuggestionsPluginParams<TItem>\n) {\n  return {\n    getSearchParams: () => ({}),\n    transformSource: ({ source }) => source,\n    itemsWithCategories: 1,\n    categoriesPerItem: 1,\n    ...options,\n  };\n}\n","export function getAttributeValueByPath(record, path) {\n  return path.reduce(function (current, key) {\n    return current && current[key];\n  }, record);\n}"],"names":["version","userAgents","segment","_typeof","obj","Symbol","iterator","constructor","prototype","ownKeys","object","enumerableOnly","keys","Object","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","enumerable","push","apply","_objectSpread","target","i","arguments","length","source","forEach","key","_defineProperty","getOwnPropertyDescriptors","defineProperties","defineProperty","value","arg","input","hint","prim","toPrimitive","undefined","res","call","TypeError","String","Number","_toPrimitive","_toPropertyKey","configurable","writable","_excluded","_objectWithoutProperties","excluded","sourceKeys","indexOf","_objectWithoutPropertiesLoose","sourceSymbolKeys","propertyIsEnumerable","_toConsumableArray","arr","Array","isArray","_arrayLikeToArray","_arrayWithoutHoles","iter","from","_iterableToArray","o","minLen","n","toString","slice","name","test","_unsupportedIterableToArray","_nonIterableSpread","len","arr2","createAlgoliaRequester","fetcher","requesterId","execute","fetcherParams","searchClient","queries","requests","map","x","query","then","responses","response","index","_fetcherParams$reques","items","sourceId","transformResponse","requesterParams","requestParams","createRequester","params","_ref","_ref$userAgents","addAlgoliaAgent","concat","coreUserAgents","_ref2","_getAppIdAndApiKey","_searchClient$transpo","transporter","headers","queryParameters","APP_ID","API_KEY","appId","apiKey","getAppIdAndApiKey","search","searchParameters","hitsPerPage","highlightPreTag","highlightPostTag","results","result","_result$hits","hits","hit","__autocomplete_algoliaCredentials","fetchAlgoliaResults","getAlgoliaResults","getTemplates","onTapAhead","item","createElement","components","__autocomplete_qsCategory","className","viewBox","fill","d","ReverseHighlight","attribute","title","onClick","event","preventDefault","stopPropagation","options","_getOptions","getSearchParams","transformSource","_ref4","itemsWithCategories","categoriesPerItem","getOptions","indexName","categoryAttribute","getSources","setQuery","refresh","state","getItemInputValue","getItems","_ref3","querySuggestionsHits","itemsWithCategoriesAdded","reduce","acc","current","record","path","categories","_step","_iterator","_createForOfIteratorHelper","s","done","category","err","e","f","templates","__autocomplete_pluginOptions"],"mappings":"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"}