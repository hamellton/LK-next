import React, { useEffect, useState } from "react";
import { SlideProps } from "./Carousel.types";
import { SlideWrapper } from "./styles";

export default function CarouselSlide(props: SlideProps) {
	const { slideClassName, id, currentSlide, onClickChangeSlide, children } = props;
	const [isCurrentSlide, setIsCurrentSlide] = useState(false);

	useEffect(() => {
		setIsCurrentSlide(id >= 0 && currentSlide >= 0 && id === currentSlide);
	}, [id, currentSlide]);

	return (
		<SlideWrapper
			onClick={() => onClickChangeSlide && onClickChangeSlide(id, "imageClick")}
			isCurrentSlide={isCurrentSlide}
			className={slideClassName}>
			{children}
		</SlideWrapper>
	);
}
