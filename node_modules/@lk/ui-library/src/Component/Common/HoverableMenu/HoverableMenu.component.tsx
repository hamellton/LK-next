import React from "react";
import { HoverableMenuProps } from "./HoverableMenu.types";
import { HeaderImg, HeaderText, Menu, MenuHeader, MenuItem, MenuList, Row } from "./HoverableMenu.styles";
import { action } from "@storybook/addon-actions";

export default function HoverableMenu(props: HoverableMenuProps) {
	const {
		header: { link, imgUrl, title },
		items,
		viewAllVisible,
		isRTL,
	} = props;

	const hoverHandle = ():void => {
		action("hoverHandel")("Hover Event");
	};

	return (
		<Menu isRTL={isRTL} onMouseEnter={hoverHandle}>
			<MenuHeader>
				<a href={link} rel="noreferrer">
					<HeaderImg src={imgUrl} width={245} height={122} alt={title} />
					<HeaderText>{title}</HeaderText>
				</a>
			</MenuHeader>
			<MenuList>
				{items?.map((item, idx) => (
					<MenuItem key={idx}>
						<a href={item.link} rel="noreferrer">
							<table>
								<tbody>
									<Row>
										<td className="bold">{item.title}</td>
										<td>Starting</td>
									</Row>
									<Row>
										<td>{item?.category}</td>
										<td className="bold">{item.price.currencySymbol + item.price.lenskartPrice}</td>
									</Row>
								</tbody>
							</table>
						</a>
					</MenuItem>
				))}
				{viewAllVisible && <MenuItem>
					<a className="view-all-btn" href="https://lenskart.com" target="_blank" rel="noreferrer">View All</a>
				</MenuItem>}
			</MenuList>
		</Menu>
	);
}
