import React from "react";
import { TextareaType } from "./Textarea.types";
import { ComponentSizeENUM } from "../../../Types/general";
import { ErrorMessage, TextareaContainer, TextareaField, TextareaLabel } from "./styles";
const FormTextarea = (
	{
		value,
		placeholder,
		label,
		componentSize = ComponentSizeENUM.small,
		id,
		disabled = false,
		error = false,
		errorMessage = "",
		width = "50",
		readonly = false,
		onChange = () => null,
		isRTL= false }:TextareaType
) => {
	const [TextareaValue, setTextareaValue] = React.useState(value);

	function handleChange(e:React.ChangeEvent<HTMLTextAreaElement>) {
		setTextareaValue(e.target.value);
		onChange(e);
	}

	return <TextareaContainer id={id} width={width} styleSize={componentSize}>
		<TextareaField error={error} value={TextareaValue} onChange={handleChange} placeholder={placeholder} disabled={disabled} readOnly={readonly} isRTL={isRTL}/>
		<TextareaLabel isRTL={isRTL}>
			{label && !TextareaValue && !placeholder && label}
		</TextareaLabel>
		{error && errorMessage && <ErrorMessage>{errorMessage}</ErrorMessage>}
	</TextareaContainer>;
};

export default FormTextarea;
