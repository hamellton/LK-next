import React from "react";
import { Cross, IconLeft } from "../../../Icons";
import { CollapsibleSideBarTypes } from "./CollapsibleSidebar.types";
import { SideBar, OverLay, Content, Flex, IconWrapper, HeaderNew, IconWrapperNew, TitleNew } from "./CollapsibleSidebar.styles";

const CollapsibleSidebar = ({ id, height, children, xPosition, overLay, title, isRTL, onClose, mobileView, hideArrowBackground = false, backdropClick, width, backgroundColor, backDrop }: CollapsibleSideBarTypes) => {

	// const [positionX, setPositionX] = useState(xPosition);

	// onClose = () => {
	// 	isRTL ? setPositionX(-2000) : setPositionX(2000);
	// 	action("onClose")("Sidebar Collapsed");
	// };

	return (
		<>
			<OverLay onClick={() => {
				onClose();
				backdropClick && backdropClick(true);
			}} isOverLay={overLay} xPosition={xPosition} backDrop={backDrop} />
			<SideBar
				style={{
					transform: `translatex(${xPosition}px)`,
					height: `${height}vh`,
					width: width ? width :"496px"
				}}
				id={id}
				isRTL={isRTL}
				mobileView={mobileView}
				backgroundColor={backgroundColor}
			>
				{!mobileView && <Flex className="head-apply-coupon" isRTL={false} mobileView={mobileView} >
					<IconWrapper isRTL={isRTL} onClick={() => {
						onClose();
						backdropClick && backdropClick(true);
					}}>
						<IconLeft onClick={onClose}/>
					</IconWrapper>
					{title}
					<IconWrapper onClick={() => {
						onClose();
						backdropClick && backdropClick(true);
					}}>
						<Cross onClick={onClose}/>
					</IconWrapper>
				</Flex>}
				{mobileView && <HeaderNew>
					<IconWrapperNew onClick={() => {
						onClose();
						backdropClick && backdropClick(true);
					}} hideArrowBackground={hideArrowBackground}>
						{hideArrowBackground ? <img src="https://static1.lenskart.com/media/desktop/img/DesignStudioIcons/LeftArrowBlue.svg" alt="back arrow"/>:
							<svg width="16" height="12" viewBox="0 0 16 12" fill="none" xmlns="http://www.w3.org/2000/svg">
								<path d="M14.6693 6H1.33594M1.33594 6L6.33594 11M1.33594 6L6.33594 1" stroke="#000042" strokeLinecap="square"/>
							</svg>}
					</IconWrapperNew>
					<TitleNew>{title}</TitleNew>
				</HeaderNew>}
				<Content>{children}</Content>
			</SideBar>
		</>
	);
};

export default CollapsibleSidebar;
