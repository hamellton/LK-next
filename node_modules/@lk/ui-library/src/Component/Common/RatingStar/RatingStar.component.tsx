import React from "react";
import { RatingStarTypes } from "./RatingStar.types";
import { NumberedRatingWrapper, NumberedRatingSpan } from "./RatingStar.styles";
import { ComponentSizeENUM, TypographyENUM } from "../../../Types/general";
import SvgStar from "../../../Icons/Star";
import { roundUptoDigits } from "../../../helpers";

const RatingStar = ({
	componentSize = ComponentSizeENUM.medium,
	rating = 0,
	font = TypographyENUM.serif,
	id= "numbered-star",
	icon= SvgStar,
	backgroundColor="var(--warm-grey-25)",
	numberOfRatings=0,
	primaryTextColor="var(--dark-blue-100)",
	starColor="var(--turquoise)",
	secondaryTextColor="var(--dark-blue-75)",
	isRTL=false,
	recentlyViewed,
}: RatingStarTypes) => {

	return (
		<NumberedRatingWrapper
			isRTL={isRTL}
			styleSize={componentSize}
			data-testid="numbered-test"
			id={id}
			bgColor={backgroundColor}
			recentlyViewed={recentlyViewed}
			view={Boolean(numberOfRatings && rating)}
		>
			<NumberedRatingSpan styleSize={componentSize} styleFont={font} textColor={primaryTextColor}>
				{roundUptoDigits(rating, 1)}
			</NumberedRatingSpan>
			{icon && (
				<SvgStar className="star-icon" fill={starColor} width="1.2em" height="1.2em"/>
			)}
			{numberOfRatings && <NumberedRatingSpan styleSize={componentSize} styleFont={font} recentlyViewed={recentlyViewed} textColor={secondaryTextColor}>
				{numberOfRatings}
			</NumberedRatingSpan>}
		</NumberedRatingWrapper>
	);
};
export { RatingStar };
