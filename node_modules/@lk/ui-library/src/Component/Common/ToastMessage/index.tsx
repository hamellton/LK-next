import React, { useEffect } from "react";
import * as Icons from "../../../Icons/index";
import { ToastText, ToastWrapper, ToastCross, IconWrapper } from "./ToastMessage.styles";
import { ToastType } from "./ToastMessage.types";


const ToastMessage = ({ message, color, duration, show, hideFn, showIcon = true ,position="fixed" }:ToastType)=>{

	// const [showToast,setShowToast] = useState(show??true);

	useEffect(()=>{

		const id = 	setTimeout(()=>{ hideFn(); } ,duration??2000);	

		return ()=>{
			if(id)
				clearTimeout(id);
		};
	},[]);
	return <>
		{show && <ToastWrapper color={color} position={position}>
			<ToastText>
				{message??"Invalid message!"}
			</ToastText>
			<ToastCross onClick={()=>hideFn()}>  <IconWrapper showIcon={showIcon}><Icons.Cross></Icons.Cross></IconWrapper></ToastCross>
		</ToastWrapper> }</>;
};

export default ToastMessage;