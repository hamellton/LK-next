import React, { useEffect, useState } from "react";
import { ToastText, ToastWrapper } from "./styles";
import { ToastType } from "./Toast.types";
import * as Icons from "../../../Icons/index";


const Toast = ({ text,color,height,width,timeOut,defaultState, hideFn, textColor, showIcon, borderColor, borderRadius }:ToastType)=>{

	const [showToast,setShowToast] = useState(defaultState??true);

	useEffect(()=>{

		const id = 	setTimeout(()=>{
			setShowToast((prev)=>!prev);
			if(hideFn) hideFn();
		} ,timeOut??2000);	

		return ()=>{
			if(id)
				clearTimeout(id);
		};
	},[]);
	return <>
		{showToast && <ToastWrapper color={color} height={height} width={width} borderColor={borderColor} borderRadius={borderRadius} >
			{showIcon && <Icons.Danger />}
			<ToastText textColor={textColor}>
				{text??"Invalid message!"}
			</ToastText>
		</ToastWrapper> }</>;
};

export default Toast;