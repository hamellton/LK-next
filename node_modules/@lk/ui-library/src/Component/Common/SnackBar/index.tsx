import React, { useEffect, useState } from "react";
import { ToastMessageTitle } from "../../V1/MyAccount/AccountInformation/styles";
import { SnackBarTypes } from "./Snackbar.types";
import { Toast } from "./styles";

const Snackbar = ({ state, message }: SnackBarTypes) => {
	const [showToast, setShowToast] = useState(true);

	useEffect(() => {
		const interval = setTimeout(() => {
			setShowToast(false);
		}, 2000);
		return () => clearTimeout(interval);
	}, [state]);
	return (<>
		{showToast && (state === "error" || state === "success") && <Toast state={state}> <ToastMessageTitle>{state}!</ToastMessageTitle> {message}</Toast>}
	</>
	);
};

export default Snackbar;