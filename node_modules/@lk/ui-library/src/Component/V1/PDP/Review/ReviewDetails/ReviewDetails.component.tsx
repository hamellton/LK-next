import React from "react";
import { ReviewDetailsType } from "./ReviewDetails.types";
import { ReviewDetailsContainer, ReviewsTitle, ReviewHeader, ProductDetails, ProductBrand, ProductName, ProductDetailsWrapper, WriteReview, ReviewListWrapper, LoaderDiv } from "./ReviewDetails.styles";
import { Rating } from "../../../../Common/Rating/Rating.component";
import { TypographyENUM, ComponentSizeENUM } from "../../../../../Types/general";

const ReviewDetails = ({
	id="review-details",
	maxHeight="400px",
	productBrand,
	productName,
	numberOfReviews,
	avgRating,
	bottomBoxId,
	reviewsLoading,
	dataLocale={
		WRITE_A_REVIEW: "Write A Review",
		REVIEWS: "Reviews",
	},
	font=TypographyENUM.defaultBook,
	onScroll,
	listInnerRef,
	writeReviewHandler= () => null,
	children,
	isRTL = false }: ReviewDetailsType) => {
	
	return (
		<ReviewDetailsContainer id={id} maxHeight={maxHeight} styleFont={font}>
			<ReviewHeader>
				<ReviewsTitle>{dataLocale.REVIEWS} ({numberOfReviews})</ReviewsTitle>
				<ProductDetailsWrapper isRTL={isRTL}>
					<ProductDetails isRatingtext={true}>
						<ProductBrand isRTL={isRTL}>
							{productBrand}
						</ProductBrand>
						<ProductName isRTL={isRTL}>
							{productName}
						</ProductName>
					</ProductDetails>
					<ProductDetails isRatingtext= {false}>
						<Rating isReadOnly id="product-rating" maxRating={5} componentSize={ComponentSizeENUM.large} rating={avgRating} onStarsChange={(val) => console.log(val)} isRTL={isRTL}/>
						<WriteReview styleFont={font} onClick={writeReviewHandler}>{dataLocale.WRITE_A_REVIEW}</WriteReview>
					</ProductDetails>
				</ProductDetailsWrapper>
			</ReviewHeader>
			<ReviewListWrapper id={bottomBoxId} ref={listInnerRef} onScroll={onScroll}>
				{children}
			</ReviewListWrapper>
			{reviewsLoading ? <LoaderDiv>
				<img
					alt="Loading"
					src="//static.lenskart.com/media/desktop/img/loader-lk.gif"
					title="Loading"
				/>
			</LoaderDiv> : null}
		</ReviewDetailsContainer>
	);
};

export { ReviewDetails };
