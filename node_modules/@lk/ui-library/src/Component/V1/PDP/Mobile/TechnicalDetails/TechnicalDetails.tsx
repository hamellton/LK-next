import React, { useState } from "react";
import { InfoIcon } from "../../../../../Icons";
import { ProductInfoWrapper, AboutHeader, ProductDetailsContent, BtnWrapper, ProductDetailsContentInner } from "./TechnicalDetails.styles";
import { TechnicalDetailsType } from "./TechnicalDetails.types";


const TechnicalDetails = ({
	id,
	font,
	aboutText,
	productDetailTitle,
	productDetailText,
	specifications = [],
	onClickHandler,
	isExchangeFlow,
	localeData,
	className,
	isRTL
}: TechnicalDetailsType) => {
	const [readMore, setReadMore] = useState(false);
	function readMoreHandle() {
		setReadMore(!readMore);
	}

	return (
		<ProductInfoWrapper readMore={readMore} styleFont={font} className={className}>
			<AboutHeader>{aboutText}</AboutHeader>
			<ProductDetailsContent styleFont={font}>
				<h3>{productDetailTitle.toLocaleLowerCase()}</h3>
				{productDetailText && (
					<p>{productDetailText}</p>
				)}
				<ProductDetailsContentInner readMore={readMore} className="pdp-inner-info">
					<ul>
						{specifications.map((specs, index) =>
							<li key={index} className={`className-${specs?.name}`}>
								<span>{specs?.name}: </span>
								<span>{specs?.value} {specs?.additionalInfoUrl && !isExchangeFlow && (<a onClick={() => onClickHandler(specs?.additionalInfoUrl)}> <InfoIcon /></a>)}</span>
							</li>)}
					</ul>
				</ProductDetailsContentInner>

				<BtnWrapper className="text" key={id} isRTL={isRTL}>
					{specifications.length >= 4 && (
						<span className="btn" onClick={() => readMoreHandle()}>
							{readMore ? localeData?.VIEW_LESS : localeData?.VIEW_MORE}
						</span>
					)}
				</BtnWrapper>
			</ProductDetailsContent>
		</ProductInfoWrapper>
	);
};

export default TechnicalDetails;
