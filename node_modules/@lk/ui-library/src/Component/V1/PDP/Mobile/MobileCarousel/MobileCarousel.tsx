import React from "react";
import "slick-carousel/slick/slick.css";
import "slick-carousel/slick/slick-theme.css";
import Carousel from "../../../../Common/Carousel";
import { MobileCarouselTypes } from "./MobileCarouse.types";
import { Image, ImageWrapper, MobileCarouselWrapper } from "./MobileCarousel.styles";

const MobileCarousel = ({ images, onClickHandler, children }: MobileCarouselTypes) =>{
	const carouselRef = React.useRef(null);
	return (
		<MobileCarouselWrapper>
			<Carousel slidesToShow={1} carouselConfig={{ infinite: true, autoplay: false }} wrapperClassName="pdp-page-slider" ref={carouselRef}>
				{images && images?.map((image, index) => (
					<Carousel.Slide id={index} currentSlide={1} key={index}>
						<ImageWrapper href={image.redirectUrl} >
							<Image alt={image.alt + " " + index} src={image.source} onClick={() =>{onClickHandler(index);}}/>
						</ImageWrapper>
					</Carousel.Slide>
				))}
				{children && children?.map((child, index) => (
					<Carousel.Slide id={index} key={index} currentSlide={1}>
						<ImageWrapper>
							{child}
						</ImageWrapper>
					</Carousel.Slide>
				))}
			</Carousel>
		</MobileCarouselWrapper>

	);
};

export default MobileCarousel;
