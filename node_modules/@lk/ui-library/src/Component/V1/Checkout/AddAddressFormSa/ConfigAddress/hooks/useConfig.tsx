import { useState } from "react";
import { addressForm } from "../../config";

const useConfig = () => {
	const [addressFormData, setAddressFormData] = useState((() => {
		let addressFormValues: {[key: string]: any} = {};
		addressForm.forEach(row => {
			row.forEach(ob => {
				// addressFormValues.push({ ...ob, props: { ...ob.props, value: null } });
				addressFormValues = { ...addressFormValues, [ob.apiKey]: ob.defaultValue };
			});
		});
		return addressFormValues;
	})());
	function changeHandler(apiKey: string, value: any) {
		setAddressFormData(add => {
			return { ...add, [apiKey]: value };
		});
	}
	return { addressFormData, changeHandler };
};

export default useConfig;
