import React, { useState } from "react";
import { Cross } from "../../../../Icons";
import { DeviceTypes } from "../../../../Types/general";
import BottomSheet from "../../../Common/BottomSheet/BottomSheet.component";
import { ContactLensConsentCheckboxType } from "./ContactLensConsentCheckbox.types";
import { CloseButton, ConsentContainer, ConsentHeader, ConsentPoints, ContactLensConsentCheckboxWrapper, ModalBody, ModalHeader, ModalTermsAndConditionsWrapper, ModalTitle, TermsAndConditionsBox, TermsCondition, BottomSheetWrapper, TermsConditionUl } from "./styles";

const ContactLensConsentCheckbox = ({ deviceType, checked, toggleChecked, dataLocale, configData } : ContactLensConsentCheckboxType) => {
	const { CL_BY_PROCEEDING, CL_TERMS_AND_CONDITIONS_TITLE, CL_FOR_CONTACT_LENSES } = dataLocale;
	const [modalTermsAndConditions, setModalTermsAndConditions] = useState(false);

	const handleTermsAndConditions = (e:any) => {
		e.preventDefault();
		e.stopPropagation();
		setModalTermsAndConditions(true);
	};
	const closeBootmSheet = () => {
		setModalTermsAndConditions(false);
	};
	return <ContactLensConsentCheckboxWrapper>
		<ConsentContainer>
			<label>
				<input type="checkbox" checked={checked} onChange={toggleChecked} />
				<TermsCondition>
					<div>
						{CL_BY_PROCEEDING}{" "}
						<a onClick={(e) => handleTermsAndConditions(e)} >{CL_TERMS_AND_CONDITIONS_TITLE}</a>{" "}
						{CL_FOR_CONTACT_LENSES}
					</div>
				</TermsCondition>
			</label>
		</ConsentContainer>
		{deviceType === DeviceTypes.DESKTOP && modalTermsAndConditions && <ModalTermsAndConditionsWrapper>
			<TermsAndConditionsBox>
				<ModalHeader mobilesite={false}>
					<ModalTitle mobilesite={false}>
						{CL_TERMS_AND_CONDITIONS_TITLE}
					</ModalTitle>
					<CloseButton >
						<Cross onClick={() => setModalTermsAndConditions(false)} />
					</CloseButton>
				</ModalHeader>
				<ModalBody mobilesite={false}>
					<ConsentHeader mobilesite={false}>
						{dataLocale.PURCHASING_CONTACT_LENSES_ONLINE_WITH_LENSKART}
					</ConsentHeader>
					<TermsConditionUl>
						<ConsentPoints mobilesite={false}>
							{dataLocale.CONTACT_LENSES_ARE_CONSIDERED_MEDICAL_DEVICES_IN_SINGAPORE_AND_CUSTOMERS_ARE_SUBJECT_TO_AN_EYE_EXAMINATION}
						</ConsentPoints>
						<ConsentPoints mobilesite={false}>
							{dataLocale.UPDATED_PRESCRIPTION_WARNING}
						</ConsentPoints>
						<ConsentPoints mobilesite={false}>
							{dataLocale.QUESTIONS_ABOUT_PRESCRIPTION} <a target="__blank" href={configData?.STORE_URL}>{dataLocale.ANY_LENSKART_STORE_PROVIDE_CL}</a> {dataLocale.FREE_CONSULTATION}.
						</ConsentPoints>
					</TermsConditionUl>
				</ModalBody>
			</TermsAndConditionsBox>
		</ModalTermsAndConditionsWrapper>
		}
		{
			deviceType === DeviceTypes.MOBILE && <BottomSheet onBackdropClick={closeBootmSheet} closebottomSheet={closeBootmSheet} show={modalTermsAndConditions} >
				<BottomSheetWrapper >
					<ModalHeader mobilesite={deviceType === DeviceTypes.MOBILE}>
						<ModalTitle mobilesite={deviceType === DeviceTypes.MOBILE}>
							{CL_TERMS_AND_CONDITIONS_TITLE}
						</ModalTitle>
					</ModalHeader>
					<ModalBody mobilesite={deviceType === DeviceTypes.MOBILE}>
						<ConsentHeader mobilesite={deviceType === DeviceTypes.MOBILE}>
							{dataLocale.PURCHASING_CONTACT_LENSES_ONLINE_WITH_LENSKART}
						</ConsentHeader>
						<TermsConditionUl>
							<ConsentPoints mobilesite={deviceType === DeviceTypes.MOBILE}>
								{dataLocale.CONTACT_LENSES_ARE_CONSIDERED_MEDICAL_DEVICES_IN_SINGAPORE_AND_CUSTOMERS_ARE_SUBJECT_TO_AN_EYE_EXAMINATION}
							</ConsentPoints>
							<ConsentPoints mobilesite={deviceType === DeviceTypes.MOBILE}>
								{dataLocale.UPDATED_PRESCRIPTION_WARNING}
							</ConsentPoints>
							<ConsentPoints mobilesite={deviceType === DeviceTypes.MOBILE}>
								{dataLocale.QUESTIONS_ABOUT_PRESCRIPTION} <a href={configData?.STORE_URL} target="__blank">{dataLocale.ANY_LENSKART_STORE_PROVIDE_CL}</a> {dataLocale.FREE_CONSULTATION}.
							</ConsentPoints>
						</TermsConditionUl>
					</ModalBody>
				</BottomSheetWrapper>
			</BottomSheet>
		}
	</ContactLensConsentCheckboxWrapper>;
};

export default ContactLensConsentCheckbox;
