import React from "react";
import { BuyOnCallWidgetType } from "./BuyOnCall.types";
import { BuyWithCall, Heading, HeadingWithDescription, LinkProvider, Description, ImageSpan, Image } from "./styles";


const BuyOnCallWidget = ({ whatsAppChatMsg, category, buyWithCallConfig, onClickHandler }: BuyOnCallWidgetType) => {
	const cat = category && category.toLowerCase();
	const whatsAppMsgUrl = whatsAppChatMsg || buyWithCallConfig.buyonchat_link;
	const hrefLink =
      buyWithCallConfig && buyWithCallConfig.buyonchat? whatsAppMsgUrl : `tel:${buyWithCallConfig[cat] ? buyWithCallConfig[cat].tel : buyWithCallConfig.eyeglasses.tel}`;
	return (
		<BuyWithCall
			onClick={() => {
				onClickHandler && onClickHandler();
				// triggerFbCustomEvent(passingUtmData, buyWithCallConfig);
				// if (whatsAppMsgUrl) whatsappCapturePhoneNumber();
			}}
		>
			{category && (
				<LinkProvider
					href={hrefLink}
				>
					<HeadingWithDescription>
						<Heading>{buyWithCallConfig.title}</Heading>
						<Description textColor={buyWithCallConfig.buyonchat}
						>
							{buyWithCallConfig.description}
						</Description>
					</HeadingWithDescription>
					<ImageSpan>
						<Image alt={buyWithCallConfig.title} src={buyWithCallConfig.icon} />
					</ImageSpan>
				</LinkProvider>
			)}
		</BuyWithCall>
	);
};

export default BuyOnCallWidget;