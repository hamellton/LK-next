/* eslint-disable @typescript-eslint/no-empty-function */
import React, { useEffect, useState } from "react";
import { CartClose, CartPopUp, DeletePopUp, DelHandling, DelText, LoyaltyDelete, PopUpConfirm, PopUpWishlist, Wrapper, WrapperImg, WrapperText } from "./styles";

const DeleteItem = (props: any) => {
	const {
		itemClassification,
		dataLocale={ WISHLIST_CART_TEXT: "Instead, you could wishlist this item and access it later", CURRENCY_SYMBOL: "â‚¹" },
		itemImg,
		// decreaseItemQtyInCart,
		setShowDeleteModal,
		onDeleteClick,
		// deleteAllCount,
		wishlist,
		// setToastMessage,
		// productCallsAction,
		// shortListData,
		// productData,
		// wishlistCount,
		// dataLocale,
		// login,
		// shortlist,
		cartData,
		cartTotal
		// currencySymbol,
	} = props;

	const [goldDiscount, setGoldDiscount] = useState(0);

	useEffect(() => {
		if (cartTotal) {
			cartTotal?.forEach((item: { label: string; amount: any; }) => {
				if (item.label === "Gold Membership Discount") {
					setGoldDiscount(item.amount);
				}
			});
		}
	}, [cartData]);

	// useEffect(() => {
	// productCallsAction.getProductData(data.productId);
	// }, [data]);

	// const onClickWishList = () => {
	// shortlist(data.productId.toString(), "post", "");
	// decreaseItemQtyInCart(data.id);
	// setShowDeleteModal(false);
	// };

	const handleCloseModal = () => {
		setShowDeleteModal(false);
	};

	return (
		<>
			<DeletePopUp>
				<CartClose onClick={()=>handleCloseModal()}>
					<img
						alt="close"
						src="https://static.lenskart.com/media/desktop/img/DesignStudioIcons/CrossBlue.svg"
					/>
				</CartClose>
				<Wrapper>
					<WrapperImg src={itemImg} alt="img"/>
					<WrapperText>
						<DelHandling>
							{dataLocale.REMOVE} {itemClassification === "loyalty_services" ? dataLocale.GOLD_MEMBERSHIP || "Gold Membership" : dataLocale.ITEM || "item"} {dataLocale.FROM_CART_QUESTION_MARK || "from cart?"}
						</DelHandling>
						{itemClassification !== "loyalty_services" && (
							<DelText>{dataLocale.WISHLIST_TO_USE_LATER || "Instead, you could wishlist this item and access it later"}</DelText>
						)}
						{itemClassification === "loyalty_services" && goldDiscount > 0 && (
							<LoyaltyDelete>
								{dataLocale.CART_TOTAL_WILL_BE_INCREASED_BY || "Cart total will increase by"} {dataLocale.CURRENCY_SYMBOL} {goldDiscount} {dataLocale.IF_YOU_REMOVE_GOLD || "if you remove Gold"}
							</LoyaltyDelete>
						)}
					</WrapperText>
				</Wrapper>
				<CartPopUp>
					<PopUpConfirm onClick={onDeleteClick}>
						{dataLocale.YES_REMOVE}
					</PopUpConfirm>
					{itemClassification !== "loyalty_services" && (
						<PopUpWishlist onClick={() => {
							wishlist?.();
							// deleteAllCount?.();
						}}>
							{dataLocale.MOVE_TO_WISHLIST}
						</PopUpWishlist>
					)}
					{itemClassification === "loyalty_services" && (
						<PopUpWishlist onClick={() => handleCloseModal()}>
							{dataLocale.KEEP_GOLD || "Keep Gold"}
						</PopUpWishlist>
					)}
				</CartPopUp>
			</DeletePopUp>
		</>
	);
};

export default DeleteItem;
