import React from "react";
import { TypographyENUM } from "../../../../../Types/general";
import CommonLoader from "../../../../Common/Loader";
import Modal from "../../../../Common/Modal";
import { LI, Table, TableWrapper, TBody, TD, TH, THead, UL } from "./PrescriptionModal.styles";
import { PrescriptionModalPropTypes } from "./PrescriptionModal.types";

export default function PrescriptionModal({ prescriptionInfo, show, onHide }: PrescriptionModalPropTypes) {
	const powerData = prescriptionInfo?.result?.powerTypeList;

	return prescriptionInfo?.isLoading ? (
		<CommonLoader show={true} />
	) : (
		<>
			{prescriptionInfo?.result && (
				<Modal dialogCss={`
          .modal-header {
            font-family: ${TypographyENUM.lkSerifNormal} !important;
            font-size: 24px;
            font-weight: bold;
          
            .close {
              font-size: 30px;
            }
          }
          `}
				show={show}
				onHide={onHide}
				onBackdropClick={onHide}
				>
					<Modal.Header onHide={onHide} closeButton>
                    Check Power
					</Modal.Header>
					<TableWrapper>
						<Table>
							<THead>
								{powerData.map((power: any) =>
									power.inputType === "drop_down" && (
										<TH key={"header" + power.label}>{power.label}</TH>)
								)}
							</THead>
							<TBody>
								{powerData.map((power: any) => power.inputType === "drop_down" && (
									<TD key={"body" + power.label}>
										<UL>
											{power.powerDataList &&
                                  power.powerDataList?.[0].value.map((powerData: any) => (<LI key={"power" + powerData}>{powerData}</LI>))
											}
										</UL>
									</TD>
								))}
							</TBody>
						</Table>
					</TableWrapper>
				</Modal>
			)}
		</>
	);
}
