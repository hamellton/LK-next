import React from "react";
import {
	PriceBreakupWrapper,
	BreakUp,
	HR, Text
} from "./styles";
import { CartAmountType, PriceBreakupTypes } from "./PriceBreakup.types";

/**
 * Default PriceBreakup Component
 */
const PriceBreakup = ({
	id,
	width,
	font,
	priceData,
	isRTL=false,
	currencyCode
}: PriceBreakupTypes) => {
	const CURRENCY_SYMBOL = currencyCode ? currencyCode : "â‚¹";
	return (
		<PriceBreakupWrapper id={id} width={width}>
			{priceData.map((price, index) => {
				if(price.type === CartAmountType.FREE) {
					return (
						<>
							<BreakUp key={index}>
								<Text styleFont={font}>{price.label}</Text>
								<Text styleFont={font} isDiscount={true}>Free</Text>
							</BreakUp>
							<HR />
						</>

					);
				} else if(price.type === CartAmountType.TOTAL) {
					return (
						<>
							<BreakUp key={index}>
								<Text styleFont={font} isBold={true} isTotal={true}>{price.label}</Text>
								<Text styleFont={font} isBold={true} isTotal={true}>{CURRENCY_SYMBOL}{price?.amount || 0}</Text>
							</BreakUp>
						</>

					);
				} else {
					return (
						<>
							<BreakUp key={index}>
								<Text styleFont={font}>{price.label}</Text>
								<Text styleFont={font} isDiscount = {price.type === CartAmountType.NEGATIVE}>{!isRTL && price.type === CartAmountType.NEGATIVE ? "-" : ""}{CURRENCY_SYMBOL}{price?.amount || 0}{isRTL && price.type === CartAmountType.NEGATIVE ? "-" : ""}</Text>
							</BreakUp>
							<HR />
						</>

					);
				}

			})}
		</PriceBreakupWrapper>
	);
};
export default PriceBreakup;
