import React from "react";
import { PowerTableType } from "./PowerTable.types";
import { Container, Table, Head, Row, Col, HeadCol, Box, Header, TableContainer } from "./PowerTable.styles";
import { DownArrow } from "../../../../Icons";

const PowerTable = ({ heading, data, fullWidth, boxMax, userName, showTable, showFunction, dataLocale }:PowerTableType) => {
	// console.log(heading, data);
	const { BUYING_FOR, NO_EXTRA_CHARGES_FOR_HIGH_POWER } = dataLocale;
	return data ? (
		<Container onClick={showFunction}>
			<Header showTable={showTable}>
				<span>
					{BUYING_FOR} <u>{userName || "Your Power"}</u> <DownArrow />
				</span>
				<span>
					{NO_EXTRA_CHARGES_FOR_HIGH_POWER}
				</span>
			</Header>
			<TableContainer showTable={showTable}>
				<Table fullWidth={fullWidth}>
					<Head>
						<HeadCol>
							{heading.Eye}
						</HeadCol>
						{heading.SPH &&
						(<HeadCol>
							{heading.SPH}
						</HeadCol>)
						}
						{heading.CYL &&
						(<HeadCol>
							{heading.CYL}
						</HeadCol>)
						}
						{heading.Axis &&
						(<HeadCol>
							{heading.Axis}
						</HeadCol>)
						}
						<Box boxMax={boxMax}>
							{heading.Boxes}
						</Box>
					</Head>
					{data.map((d, i) => <Row key={i}>
						{ heading.Eye &&
						(
							<Col>
								{data[i].Eye ? data[i].Eye : "-"}
							</Col>
						)
						}
						{ heading.SPH &&
						(
							<Col>
								{data[i].SPH ? data[i].SPH : "-"}
							</Col>
						)
						}
						{ heading.CYL &&
						(
							<Col>
								{data[i].CYL ? data[i].CYL : "-"}
							</Col>
						)
						}
						{ heading.Axis &&
						(
							<Col>
								{data[i].Axis ? data[i].Axis : "-"}
							</Col>
						)
						}
						{ heading.Boxes &&
						(
							<Box boxMax={boxMax}>
								{data[i].Boxes ? data[i].Boxes : "-"}
							</Box>
						)
						}
					</Row>)}
				</Table>
			</TableContainer>
		</Container>
	) : null;
};

export default PowerTable;
