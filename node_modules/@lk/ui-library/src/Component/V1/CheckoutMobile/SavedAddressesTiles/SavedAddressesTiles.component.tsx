import React from "react";
import { DownArrow, UpArrow } from "../../../../Icons";
import { SavedAddressCard } from "../SavedAddressCard/SavedAddressCard.component";
import { SavedAddressTilesPropsType } from "./SavedAddressesTiles.types";
import { SavedAddressesTiles, Title, ShowMoreToggleButton } from "./styles";

function SavedAddressTiles(props:SavedAddressTilesPropsType){
	const { addresses, isShowMore, editAddress, deleteAddress, selectAddress, handleShowMoreClick, dataLocale, font, isPostcode, isSelected, configData } = props;
	return(
		<SavedAddressesTiles>
			<Title styleFont={font}>{dataLocale?.SAVED_ADDRESSESS}</Title>
			{addresses && <>
				{isShowMore ? addresses?.map((address) =>
					<SavedAddressCard configData={configData} key={address?.id} dataLocale={dataLocale} address={address} font={font} isPostcode={isPostcode} isSelected={isSelected === address.id} deleteAddress={deleteAddress} editAddress={editAddress} selectAddress={selectAddress} />          
				) : addresses?.slice(0,2)?.map((address)=>
					<SavedAddressCard configData={configData} key={address?.id} dataLocale={dataLocale} address={address} font={font} isPostcode={isPostcode} isSelected={isSelected === address.id} deleteAddress={deleteAddress} editAddress={editAddress} selectAddress={selectAddress} />          
				)
				}
			</>}
			{addresses.length > 2 && (
				<>
					{
						!isShowMore ? (
							<ShowMoreToggleButton styleFont={font} onClick={() => handleShowMoreClick()}>{dataLocale?.SHOW_MORE} 
								<DownArrow />
							</ShowMoreToggleButton>
						) : (
							<ShowMoreToggleButton styleFont={font} onClick={() => handleShowMoreClick()}>{dataLocale?.SHOW_LESS}
								<UpArrow />
							</ShowMoreToggleButton>
						)
					}
				</>
			)}
		</SavedAddressesTiles>
	);
}

export { SavedAddressTiles };