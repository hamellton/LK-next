import React, { useState } from "react";
import BottomSheet from "../../../Common/BottomSheet/BottomSheet.component";
import { OffersCard, OffersCardHeader,OffersCardContent,OffersShowMore,OffersCardSection , OffersSheetContent, OffersSheetHeader } from "./BankOffers.styles";
import { BankOffersTypes } from "./BankOffers.types";


export default function BankOffers({ offers, dataLocale }:BankOffersTypes){
	const [showSheet,setShowSheet] = useState(false);
	function onClickHandler(){
		setShowSheet(!showSheet);
	}

	return (
		<div>
			{
				offers?.length !== 0 && <>
					<OffersCard>
						<OffersCardHeader>{dataLocale?.BANK_OFFERS}</OffersCardHeader>
						<OffersCardContent>{offers?.[0]}</OffersCardContent>
						{
							offers?.length > 1 &&
							(
								<OffersShowMore onClick={onClickHandler}>+{offers.length - 1} {dataLocale?.MORE}</OffersShowMore>
							)
						}
					</OffersCard>
					<BottomSheet closebottomSheet={onClickHandler} show={showSheet} onBackdropClick={onClickHandler}>
						<OffersCardSection>
							<OffersSheetHeader>{dataLocale?.BANK_OFFERS}</OffersSheetHeader>
							<OffersSheetContent>
								<ul>
									{
										offers?.map((offer: string, idx: number) => {
											return <li key={idx}>{offer}</li>;
										})
									}
								</ul>
							</OffersSheetContent>
						</OffersCardSection>
					</BottomSheet>
				</>
			}
		</div>
	);
}

export { BankOffers };