/* eslint-disable react/display-name */
import React, { memo } from "react";
import { PaymentCardForm } from "./PaymentCardForm";
import { Flex, StripImage } from "./paymentCard.styles";
import { TypographyENUM } from "../../../../Types/general";
import { CardDetailsType, PaymentCardTypes } from "../Payment.types";
// import "./PaymentCard.scss";

const PaymentCard = memo((props: PaymentCardTypes) => {
	const submitForm = (data: CardDetailsType) => {
		console.log(data);
		const { paymentKey, applyOffer, isApplyOfferEnable, createOrderPayment } = props;
		if (isApplyOfferEnable) {
			applyOffer(data, paymentKey);
		} else {
			createOrderPayment(data, paymentKey);
		}
		// _gaq.push(
		// 	["_trackEvent", "Place Order", paymentKey],
		// 	["ninja._trackEvent", "Place Order", paymentKey]
		// );
	};

	const { dataLocale: { SECURE, BANK_CARDS } } = props;
	return (
		<div>
			<Flex styledFont={TypographyENUM.defaultHeavy}>
				<strong>100% {SECURE}</strong>
				<span>
					<StripImage
						alt={BANK_CARDS}
						src="https://static5.lenskart.com/images/cust_mailer/Mar-03/CheckoutStrip.png"
					/>
				</span>
			</Flex>
			<PaymentCardForm
				{...props}
				onSubmit={(data: CardDetailsType) => submitForm(data)}
			/>
		</div>
	);

});

export { PaymentCard };
