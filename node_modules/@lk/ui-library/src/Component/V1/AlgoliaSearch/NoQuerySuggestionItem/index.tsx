import React from "react";
import { useState } from "react";
import { Icons } from "../../../..";
import TypingLoader from "../Loader";
import {
	CardIconWrapper,
	CardItemAction,
	CardItemContent,
	CardItemTileWrapper,
	CardItemTitle,
} from "./styles";

interface Hit {
  query: string;
}
interface NoQuerySuggestionItemTypes {
  handleClick: () => void;
  hit: Hit;
}

const NoQuerySuggestionItem = ({
	hit,
	handleClick,
}: NoQuerySuggestionItemTypes) => {
	const [index, setIndex] = useState(-1);
	const onQueryClick = (event: React.MouseEvent<HTMLDivElement>) => {
		setIndex(1);
		handleClick();
		event.stopPropagation();
	};
	return (
		<>
			<CardItemTileWrapper
				className="aa-Item"
				onClick={(e) => onQueryClick(e)}
				selected={index !== -1}
			>
				<CardItemContent>
					<CardIconWrapper>
						<Icons.SearchQuery height={"20"} width={"20"} />
					</CardIconWrapper>
					<CardItemTitle className="aa-ItemContentTitle">
						{hit.query}
					</CardItemTitle>
				</CardItemContent>
				<CardItemAction>
					{index == -1 && <Icons.FillUp height={"12"} width={"12"} />}
					<TypingLoader show={index != -1} />
				</CardItemAction>
			</CardItemTileWrapper>
		</>
	);
};


export default NoQuerySuggestionItem;