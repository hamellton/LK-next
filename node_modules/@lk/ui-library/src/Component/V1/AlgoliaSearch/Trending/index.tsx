import React from "react";
import { useState } from "react";
import { Icons } from "../../../..";
import { CardImageWrapper, CardItemAction, CardItemContent, CardItemSeperator, CardItemTileWrapper, CardItemTitle } from "../common.styles";
import TypingLoader from "../Loader";

interface Hit {
    query: string;
    thumbnailUrl:string;
  }
  interface TrendingItemTypes {
    handleClick: () => void;
    hit: Hit;
  }
const TrendingItem =({
	hit,
	handleClick
}: TrendingItemTypes)=> {
	const [index, setIndex] = useState(-1);
	const onTrendingItemClick = (event: React.MouseEvent<HTMLDivElement>) => {
		setIndex(1);
		handleClick();
		event.stopPropagation();
	};
	return (
		<>
			<CardItemTileWrapper onClick={onTrendingItemClick} selected={index !== -1}>
				<CardItemContent>
					<CardImageWrapper
						selected={index != -1}
						src={hit?.thumbnailUrl}
						height={40}
						width={40}
						enableBorder={false}
					></CardImageWrapper>
					<CardItemTitle>{hit.query}</CardItemTitle>
				</CardItemContent>
				<CardItemAction>
					{index == -1 && <Icons.FillUp height={"12"} width={"12"} />}
					<TypingLoader show={index != -1} />
				</CardItemAction>
			</CardItemTileWrapper>
			<CardItemSeperator className="aa-item-seperator" />
		</>
	);
};

export default TrendingItem;