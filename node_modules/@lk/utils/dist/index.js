/**
	 * @license
	 * author: Lenskart
	 * @lk/utils v0.0.3
	 * Released under the MIT license.
	 */
"use strict";function e(e,t,r,s){if("a"===r&&!s)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?s:"a"===r?s.call(e):s?s.value:t.get(e)}function t(e,t,r,s,o){if("m"===s)throw new TypeError("Private method is not writable");if("a"===s&&!o)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!o:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===s?o.call(e,r):o?o.value=r:t.set(e,r),r}var r,s,o,n,i,a;Object.defineProperty(exports,"__esModule",{value:!0}),function(e){e.PLP="cat",e.PDP="prod",e.NULL="null"}(r||(r={})),function(e){e.GET="GET",e.POST="POST",e.PUT="PUT",e.DELETE="DELETE"}(s||(s={}));o=new WeakMap,n=new WeakMap,i=new WeakMap,a=new WeakMap;const u={getItem:e=>{try{const t=window.localStorage.getItem(e),r=window.localStorage.getItem(`ng2-webstorage|${e}`),s=t||r;if(s)try{return JSON.parse(s)}catch(e){return s}return s}catch(e){return console.log("Failed to get item from local storage: \n",e),null}},setItem:(e,t)=>{try{window.localStorage.setItem(e,JSON.stringify(t||null))}catch(e){console.log("Failed to set item in local storage: \n",e)}},removeItem:e=>{try{window.localStorage.removeItem(e)}catch(e){console.log("Failed to remove item from local storage: \n",e)}}};exports.APIService=class{constructor(e){o.set(this,s.GET),n.set(this,[]),i.set(this,""),a.set(this,""),t(this,a,e,"f")}get envURL(){return e(this,a,"f")}set envURL(e){t(this,a,e,"f")}get sessionToken(){return e(this,i,"f")}set sessionToken(e){t(this,i,e,"f")}get method(){return e(this,o,"f")}get headers(){return e(this,n,"f")}setHeaders(t){for(const r in t)Object.getOwnPropertyDescriptor(t[r],"key")&&Object.getOwnPropertyDescriptor(t[r],"value")&&e(this,n,"f").push([t[r].key,t[r].value]);return""!==e(this,i,"f")&&e(this,n,"f").push(["x-session-token",e(this,i,"f")]),this}resetHeaders(){t(this,n,[],"f")}setMethod(e){return t(this,o,e,"f"),this}request(t){return t&&Object.keys(t).length>0?{headers:e(this,n,"f"),method:e(this,o,"f"),body:JSON.stringify(t)}:{headers:e(this,n,"f"),method:e(this,o,"f")}}},exports.RequestBody=class{constructor(e){this._requestBody=e}get requestBody(){return this._requestBody}set requestBody(e){this._requestBody=e}},exports.SubDomain=e=>{let t=e.split("/");return t=t.slice(3),`/${t.join("/")}`},exports.extractUtmParams=e=>{const t={utm_source:null,utm_medium:null,utm_campaign:null,utm_content:null,utm_term:null};if(e&&e.split("?")&&e.split("?")[1]){const r=e.split("?")[1].split("&").reduce(((e,t)=>(t.indexOf("utm_source")>-1?e.utm_source=t.split("=")[1]:t.indexOf("utm_medium")>-1?e.utm_medium=t.split("=")[1]:t.indexOf("utm_campaign")>-1?e.utm_campaign=t.split("=")[1]:t.indexOf("utm_content")>-1?e.utm_content=t.split("=")[1]:t.indexOf("utm_term")>-1&&(e.utm_term=t.split("=")[1]),e)),{});return Object.assign(Object.assign({},t),r)}return t},exports.localStorageHelper=u;
